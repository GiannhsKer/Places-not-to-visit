{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport uuid from 'react-native-uuid';\nimport { SvgUri } from 'react-native-svg';\nimport conv_dict from \"../data/eur.json\";\nimport flags from \"../data/flags.json\";\nimport l_prices from \"../data/thes_prices.json\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar Prices = function Prices(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var city = \"Lausanne\";\n  var country = \"Switzerland\";\n  var api_key = \"r60hnqccmjg8yc\";\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      f_prices = _useState2[0],\n      setFPrices = _useState2[1];\n\n  var fetchData = function fetchData(url) {\n    var response;\n    return _regeneratorRuntime.async(function fetchData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(fetch(url));\n\n          case 2:\n            response = _context.sent;\n            return _context.abrupt(\"return\", response.json());\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getData = function getData() {\n    try {\n      fetchData(\"https://www.numbeo.com/api/city_prices?api_key=\" + api_key + \"&city=\" + city + \"&country=\" + country).then(function (data) {\n        var prices = {};\n        var rate;\n\n        if (data.currency.toLowerCase() == 'eur') {\n          data.prices.map(function (it, i) {\n            prices[data.prices[i].item_name] = data.prices[i].average_price.toFixed(1);\n          });\n        } else {\n          rate = conv_dict[data.currency.toLowerCase()].rate;\n          data.prices.map(function (it, i) {\n            prices[data.prices[i].item_name] = (data.prices[i].average_price / rate).toFixed(1);\n          });\n        }\n\n        setFPrices(prices);\n      });\n    } catch (error) {\n      _jsxs(Text, {\n        children: [\"error getting \", country, \",\", city]\n      });\n    }\n  };\n\n  useEffect(function () {\n    getData();\n  }, []);\n  return _jsxs(ScrollView, {\n    children: [_jsxs(View, {\n      children: [_jsx(Text, {\n        style: {\n          alignSelf: 'center',\n          fontSize: 30,\n          marginTop: 50\n        },\n        children: \"Places Not To Visit\"\n      }), _jsxs(Text, {\n        style: {\n          alignSelf: 'center',\n          fontSize: 23,\n          marginTop: 10,\n          color: 'blue'\n        },\n        children: [city, \", \", country]\n      })]\n    }), _jsx(Image, {\n      source: {\n        uri: 'https://logovtor.com/wp-content/uploads/2021/10/numbeo-logo-vector.png'\n      },\n      style: {\n        marginTop: 30,\n        alignSelf: 'center',\n        height: 100,\n        width: 200\n      }\n    }), _jsxs(View, {\n      style: {\n        marginVertical: 40\n      },\n      children: [_jsxs(View, {\n        style: {\n          alignSelf: 'flex-end',\n          flexDirection: 'row'\n        },\n        children: [_jsx(SvgUri, {\n          uri: flags[country],\n          width: \"100%\",\n          height: \"100%\"\n        }), _jsx(SvgUri, {\n          uri: flags[\"Greece\"],\n          width: \"100%\",\n          height: \"100%\"\n        })]\n      }), Object.keys(f_prices).map(function (item, i) {\n        return _jsxs(View, {\n          style: {\n            marginTop: 10,\n            marginHorizontal: 10,\n            flexWrap: 'wrap',\n            flexDirection: 'row'\n          },\n          children: [_jsx(View, {\n            style: {\n              width: 230,\n              height: 60\n            },\n            children: _jsxs(Text, {\n              style: {\n                fontSize: 15\n              },\n              children: [item.slice(0, 50), \" :\"]\n            })\n          }), f_prices[item] - l_prices[item] > 10 ? _jsx(View, {\n            children: _jsxs(Text, {\n              style: {\n                color: \"red\"\n              },\n              children: [f_prices[item], \" \\u20AC\"]\n            })\n          }) : f_prices[item] - l_prices[item] > 5 ? _jsx(View, {\n            children: _jsxs(Text, {\n              style: {\n                color: \"goldenrod\"\n              },\n              children: [f_prices[item], \" \\u20AC\"]\n            })\n          }) : f_prices[item] - l_prices[item] >= 0 ? _jsx(View, {\n            children: _jsxs(Text, {\n              style: {\n                color: \"green\"\n              },\n              children: [f_prices[item], \" \\u20AC\"]\n            })\n          }) : _jsx(View, {\n            children: _jsxs(Text, {\n              style: {\n                color: \"limegreen\"\n              },\n              children: [f_prices[item], \" \\u20AC\"]\n            })\n          }), _jsx(View, {\n            style: {\n              marginLeft: 35\n            },\n            children: _jsxs(Text, {\n              children: [l_prices[item], \" \\u20AC\"]\n            })\n          })]\n        }, uuid.v4());\n      })]\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 30,\n    flex: 1,\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-evenly'\n  },\n  titles: {\n    marginTop: 50,\n    alignSelf: 'center',\n    fontSize: 30\n  },\n  error_text: {\n    fontWeight: 'bold',\n    fontSize: 20\n  }\n});\nexport default Prices;","map":{"version":3,"sources":["/home/yanes/Documents/Places-not-to-visit/screens/prices.js"],"names":["React","useState","useEffect","uuid","SvgUri","conv_dict","flags","l_prices","Prices","navigation","route","city","country","api_key","f_prices","setFPrices","fetchData","url","fetch","response","json","getData","then","data","prices","rate","currency","toLowerCase","map","it","i","item_name","average_price","toFixed","error","alignSelf","fontSize","marginTop","color","uri","height","width","marginVertical","flexDirection","Object","keys","item","marginHorizontal","flexWrap","slice","marginLeft","v4","styles","StyleSheet","create","container","flex","justifyContent","titles","error_text","fontWeight"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { StyleSheet, Text, View, Image, ScrollView } from 'react-native';\nimport uuid from 'react-native-uuid';\nimport { SvgUri } from 'react-native-svg';\n\nimport conv_dict from '../data/eur.json'\nimport flags from '../data/flags.json'\nimport l_prices from '../data/thes_prices.json'\n\nconst Prices = ({navigation,route}) => {\n\n    const city = \"Lausanne\"\n    const country = \"Switzerland\"\n    const api_key = \"r60hnqccmjg8yc\"\n    \n    const [f_prices, setFPrices] = useState({});\n\n    const fetchData = async (url) => {\n        const response = await fetch(url);\n        return response.json();\n    };\n\n    const getData = () => {\n        try {\n            fetchData(`https://www.numbeo.com/api/city_prices?api_key=${api_key}&city=${city}&country=${country}`).then(data => {\n                var prices = {}\n                var rate\n\n                if (data.currency.toLowerCase() == 'eur'){\n                    data.prices.map((it,i) => { \n                        prices[data.prices[i].item_name] = data.prices[i].average_price.toFixed(1)\n                    })\n                }\n                else{\n                    rate = conv_dict[data.currency.toLowerCase()].rate\n\n                    data.prices.map((it,i) => { \n                        prices[data.prices[i].item_name] = (data.prices[i].average_price / rate ).toFixed(1)\n                    })\n                }\n                setFPrices(prices);\n            });\n        } catch (error) {\n            <Text>error getting {country},{city}</Text>\n        }\n    };\n\n\n    useEffect(() => {\n        getData();\n    }, []);\n\n    return (\n        <ScrollView>\n            <View >\n                <Text style = {{ alignSelf : 'center', fontSize : 30 , marginTop : 50 }}>Places Not To Visit</Text>\t\t\t\t\n                <Text style = {{ alignSelf : 'center', fontSize : 23 , marginTop : 10 , color: 'blue'}}>{city}, {country}</Text>\n            </View>\n                <Image source = {{uri: 'https://logovtor.com/wp-content/uploads/2021/10/numbeo-logo-vector.png'}} style={{ marginTop: 30, alignSelf: 'center' ,height:100, width: 200}}></Image>\n                <View style = {{marginVertical: 40}}>\n                    <View style = {{alignSelf : 'flex-end', flexDirection: 'row'}} >\n                        <SvgUri uri= {flags[country]} width=\"100%\" height=\"100%\"></SvgUri>\n                        <SvgUri uri= {flags[\"Greece\"]} width=\"100%\" height=\"100%\"></SvgUri>\n                    </View>\n                    {Object.keys(f_prices).map((item,i) => (\n                        <View key = {uuid.v4()} style = {{ marginTop : 10, marginHorizontal : 10, flexWrap:'wrap', flexDirection: 'row'}} >\n                            <View style = {{ width : 230, height: 60 }}>\n                                <Text style = {{ fontSize: 15 }}>{item.slice(0,50)} :</Text>\n                            </View>\n                                {f_prices[item] - l_prices[item] > 10 ?\n                                    <View>\n                                        <Text style = {{color : \"red\"}}>{f_prices[item]} €</Text>\n                                    </View> :\n                                f_prices[item] - l_prices[item] > 5 ?\n                                    <View>\n                                        <Text style = {{color : \"goldenrod\"}}>{f_prices[item]} €</Text>\n                                    </View> :\n                                f_prices[item] - l_prices[item] >= 0 ?\n                                    <View>\n                                        <Text style = {{color : \"green\"}}>{f_prices[item]} €</Text>\n                                    </View> : \n                                    <View>\n                                        <Text style = {{color : \"limegreen\"}}>{f_prices[item]} €</Text>\n                                    </View>}\n                            <View style = {{ marginLeft: 35 }} >\n                                <Text>{l_prices[item]} €</Text>\n                            </View>\n                        </View>\n                    ))}\n                </View>\n        </ScrollView>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        marginTop: 30,\n        flex: 1,\n        flexDirection : 'row',\n        flexWrap : 'wrap',\n        justifyContent: 'space-evenly'\n    },\n    titles: {\n        marginTop : 50,\n        alignSelf: 'center',\n        fontSize: 30,\n    },\n    error_text : {\n        fontWeight : 'bold',\n        fontSize : 20,\n    }\n});\n\nexport default Prices;"]},"metadata":{},"sourceType":"module"}